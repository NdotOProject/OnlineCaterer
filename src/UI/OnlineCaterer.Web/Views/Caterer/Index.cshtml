@page "/caterers/"
@using OnlineCaterer.Web.Views.Shared;
@using static OnlineCaterer.Web.Views.Shared.PaginationViewComponent;
@model OnlineCaterer.Web.Views.Caterer.CatererIndexModel
@{
	ViewData["Title"] = "Caterer List";
}

@* Search Form *@
<form asp-page="./Index" method="get">
	<label>Search By Name</label>
	<input type="text" name="name" value="" />
	<button type="submit">Search</button>
</form>
@* End Search Form *@

<a asp-page="/Caterer/Index">
	Reset
</a>

<div class="row">
	@foreach(var caterer in Model.Caterers.Items)
	{
		@await Component.InvokeAsync("CatererBox", caterer)
	}
</div>

@{
	var generateUrl = new PaginationViewComponent(Url)
	{
		PageName = "/Caterer/Index",
		CurrentPage = Model.CurrentPage ?? 1,
		TotalPages = Model.Caterers.TotalPages,
	};
}
<partial name="_PaginationViewComponent" model="@generateUrl" />
